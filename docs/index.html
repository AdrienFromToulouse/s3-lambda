<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>S3renity Index</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.simplex.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">S3renity</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu inline">
					<li><a href="BatchRequest.html">BatchRequest</a></li><li><a href="Context.html">Context</a></li><li><a href="S3renity.html">S3renity</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	
	











	
	





    <section class="readme-section">
        <article><h2>S3renity</h2><p>S3renity is an <a href="https://aws.amazon.com/s3/">S3</a> toolbelt for <a href="https://nodejs.org/en/">Node</a> that enables you to treat directories like arrays of S3 objects, and perform batch functions on them. It also provides extra functionality around handling s3 objects. Some things we use S3renity for at Littlstar are prototyping MapReduce jobs and cleaning/organizing logs.</p>
<h2>Batch Functions</h2><p>Perform sync or async functions over each file in a directory.</p>
<ul>
<li>forEach</li>
<li>map</li>
<li>reduce</li>
<li>filter</li>
<li>join</li>
</ul>
<h2>S3 Functions</h2><p>Promise-based wrapper around common S3 methods.</p>
<ul>
<li>list</li>
<li>get</li>
<li>put</li>
<li>copy</li>
<li>delete</li>
<li>split</li>
</ul>
<h2>Examples</h2><p>Quick examples of each <code>s3renity</code> function for reference. Refer to the class spec for more details.
<br/><br/></p>
<h4>forEach</h4><p>Loops over each file in a s3 directory and performs a function.</p>
<pre class="prettyprint source lang-javascript"><code>s3renity
  .context('bucket', 'path/to/folder')
  .forEach(obj => {
    // do something with obj
  })
  .then(() => {
    console.log('done!');
  })
  .catch(console.error);</code></pre><p><br/></p>
<h4>map</h4><p><strong>Destructive</strong>. Maps a function over each file in an s3 directory, replacing each file with what is returned
from the mapper function.  Optionally you can make this <em>non-destructive</em> by specifying an <code>output</code> directory.</p>
<pre class="prettyprint source lang-javascript"><code>// update s3 files inline
s3renity
  .context('bucket', 'path/to/folder')
  .map(obj => {
    return obj + 'altered!';
  })
  .then(() => {
    console.log('done!');
  })
  .catch(console.error);

// leaves s3 files be and redirects output
s3renity
  .context('bucket', 'path/to/folder')
  .output('bucket', 'path/to/output')
  .map(obj => {
    return obj + 'altered!';
  })
  .then(() => {
    console.log('done!');
  })
  .catch(console.error);</code></pre><h2>Quick Example</h2><pre class="prettyprint source lang-javascript"><code>var S3renity = require('s3renity');

var s3renity = new S3renity({
  access_key_id: 'your access key',
  secret_access_key: 'your secret key'
});

// Print out the contents of every file in an S3 directory
var bucket = 'my-bucket';
var prefix = 'path/to/files';
var print = body => console.log(body);

s3renity
  .context(bucket, prefix)         // sets the directory context in S3
  .forEach(print)                  // loop over every object and print it
  .then(() => console.log('done')) // callback function (resolved promise)
  .catch(e => console.log(e))      // handle error</code></pre><h2>Install</h2><pre class="prettyprint source lang-bash"><code>npm install s3renity --save</code></pre></article>
    </section>







		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>

	Little Star Media, 2015


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
		on 2016-01-21T11:39:50-05:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>